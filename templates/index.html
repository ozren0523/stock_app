<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>株価予測アプリ</title>
</head>
<body>
  <h1>株価予測</h1>
  {% if error %}
    <p style="color:red;">{{ error }}</p>
  {% endif %}
  <form method="post">
    <label for="company">企業名から銘柄コードを取得:</label>
    <input type="text" id="company" name="company" value="{{ ticker_code }}" />
    <button type="submit">検索</button>
  </form>
  
  <hr>
  
  <form method="post">
    <label for="ticker">銘柄コード:</label>
    <input type="text" id="ticker" name="ticker" value="{{ ticker_code }}" required />
    <br />
    <label for="model">モデル選択:</label>
    <select id="model" name="model">
      <option value="random_forest">ランダムフォレスト</option>
      <option value="lstm">LSTM</option>
    </select>
    <br />
    <button type="submit">予測開始</button>
  </form>

  {% if prediction %}
    <h2>予測結果</h2>
    <div>{{ plot_html|safe }}</div>
  {% endif %}
  
  <hr>
  <a href="/chat">銘柄コードチャットボットへ</a>
</body>
</html>
